<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>METAR Decoder - Aviation Weather Made Easy</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-row">
                <div>
                    <h1>✈️ METAR Decoder</h1>
                    <p class="subtitle">Decode aviation weather reports into plain English</p>
                </div>
                <div class="nav-controls">
                    <label class="nav-label" for="site-nav">Navigate:</label>
                    <select id="site-nav" class="nav-select" aria-label="Site navigation" onchange="navigatePage()">
                        <option value="index.html" selected>METAR / VATSIM ATIS</option>
                        <option value="notams.html">NOTAMs</option>
                        <option value="routecheck.html">Route Checker</option>
                        <option value="pilotprep.html">Pilot Prep</option>
                    </select>
                    <button class="nav-btn" type="button" onclick="navigatePage()">Go</button>
                </div>
            </div>
        </header>

        <main>
            <div class="input-section icao-section">
                <label for="icao-input">Enter Airport ICAO Code:</label>
                <div class="icao-input-group">
                    <input 
                        type="text" 
                        id="icao-input" 
                        placeholder="e.g., KJFK, EGLL, KSFO"
                        maxlength="4"
                        pattern="[A-Za-z0-9]{4}"
                    />
                    <button id="fetch-btn" onclick="fetchMetar()">Fetch Current METAR</button>
                </div>
                <p class="input-hint">Enter a 4-letter ICAO code to fetch live METAR data</p>
            </div>

            <div class="divider">
                <span>OR</span>
            </div>

            <div class="input-section">
                <label for="metar-input">Enter METAR Code Manually:</label>
                <textarea 
                    id="metar-input" 
                    placeholder="Example: KJFK 121251Z 24016G28KT 10SM FEW250 23/14 A3012 RMK AO2 SLP201 T02330139"
                    rows="3"
                ></textarea>
                <button id="decode-btn" onclick="decodeMetar()">Decode METAR</button>
            </div>

            <div class="examples">

                            <div class="pilotprep-card">
                                <div class="pilotprep-section-title">Runway Landing Suggestion</div>
                                <div class="tool-section">
                                    <p>Suggests the best runway for landing based on current winds and weather.</p>
                                    <input id="runway-icao" type="text" maxlength="4" placeholder="Airport ICAO (e.g., EGLL)" />
                                    <button class="primary-btn" type="button" onclick="suggestLandingRunway()">Suggest Runway</button>
                                    <div id="runway-suggestion-output"></div>
                                </div>
                            </div>
                <p><strong>Quick Examples:</strong></p>
                <button class="example-btn" onclick="loadExample('KJFK 121251Z 24016G28KT 10SM FEW250 23/14 A3012')">JFK Airport</button>
                <button class="example-btn" onclick="loadExample('EGLL 121250Z 27015KT 9999 FEW035 17/12 Q1013')">London Heathrow</button>
                <button class="example-btn" onclick="loadExample('KSFO 121256Z 29008KT 10SM CLR 18/12 A2990')">San Francisco</button>
            </div>

            <div id="result-section" class="result-section" style="display: none;">
                <h2>Decoded Weather Report</h2>
                <div id="decoded-output"></div>
            </div>

            <div class="divider">
                <span>ALSO AVAILABLE</span>
            </div>

            <div class="input-section atis-section">
                <label for="atis-icao-input">Decode VATSIM ATIS:</label>
                <div class="icao-input-group">
                    <input 
                        type="text" 
                        id="atis-icao-input" 
                        placeholder="e.g., KJFK, EGLL, KSFO"
                        maxlength="4"
                        pattern="[A-Za-z0-9]{4}"
                    />
                    <button id="fetch-atis-btn" onclick="fetchAtis()">Fetch & Decode ATIS</button>
                </div>
                <p class="input-hint">Enter an ICAO code to fetch and decode live VATSIM ATIS if available</p>
            </div>

            <div id="atis-result-section" class="result-section" style="display: none;">
                <h2>Decoded VATSIM ATIS</h2>
                <div id="atis-output"></div>
            </div>

            <div class="info-section">
                <h3>About METAR</h3>
                <p>
                    METAR is a format for reporting weather information used in aviation. 
                    It contains coded information about wind, visibility, weather phenomena, 
                    clouds, temperature, dewpoint, and atmospheric pressure.
                </p>
                <p>
                    This decoder helps translate these codes into easy-to-understand language.
                </p>
            </div>
        </main>

        <footer>
            <p>© 2026 METAR Decoder | For educational purposes</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
